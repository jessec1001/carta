/* Panel */
.tab-panel {
  width: 100%;
  height: 100%;
}
.tab-panel.hidden {
  display: none;
}

/* Tab */
.tab {
  /* Give some spacing within the tab area to not feel cluttered. */
  position: relative;
  padding: 0.5rem;
  white-space: nowrap;
  z-index: 1;

  /* We setup a variable for color that dictates the status. */
  --status-color: transparent;

  /* Tabs should appear to be interactive. */
  cursor: pointer;
}
.tab.active {
  background-color: var(--color-fill-body);
}
.tab.active::after {
  content: "";
  position: absolute;
  display: block;
  background-color: var(--color-fill-body);
}
.tab-bar.horizontal .tab.active::after {
  left: 0;
  top: 100%;
  height: 1px;
  width: 100%;
}
.tab-bar.vertical .tab.active::after {
  right: 100%;
  top: 0;
  height: 100%;
  width: 1px;
}

/* Tab Indicators */
.tab.status-modified {
  --status-color: var(--color-stroke-notify);
}
.tab.status-unmodified {
  --status-color: var(--color-stroke-muted);
}
.tab.status-info {
  --status-color: var(--color-stroke-info);
}
.tab.status-warning {
  --status-color: var(--color-stroke-warning);
}
.tab.status-error {
  --status-color: var(--color-stroke-error);
}

/* Close */
.tab-bar.horizontal .tab.closeable {
  padding-right: 1.5em;
}
.tab-bar.vertical .tab.closeable {
  padding-bottom: 4ch;
}
.tab-bar.horizontal .tab-close {
  position: absolute;
  right: 0.5rem;
}
.tab-bar.vertical .tab-close {
  position: absolute;
  bottom: 1ch;
}
.tab-close:hover {
  color: #ad1414;
}

/* Bar */
/* Tab bars should not have visible scroll bars. */
/* TODO: Check if scroll bars can overlay content. */
.tab-bar::-webkit-scrollbar {
  display: none;
}
.tab-bar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.tab-bar {
  /* The tab bar should not grow artificially. */
  flex-grow: 0;
  flex-shrink: 0;

  /* The colors of the tab bar should make it de-emphasized as a menu. */
  background-color: var(--color-fill-element);
  color: var(--color-stroke-lowlight);
}
.tab-bar.horizontal {
  /* A horizontal tab bar displays tabs in a row. */
  display: flex;
  flex-direction: row;
  width: 100%;
  border-bottom: 0.5px solid var(--color-stroke-hairline);
  /* TODO: Fix implementation of tab bar overflow. */
  /* overflow-x: auto; */
}
.tab-bar.horizontal .tab {
  /* Force tabs to have some minimum size. */
  min-width: 6rem;

  /* Add a division between tabs. */
  border-right: 0.5px solid var(--color-stroke-hairline);

  /* Tabs should have an indicator border at the top to display a status. */
  border-top: 2px solid var(--status-color);
}
.tab-bar.vertical {
  /* A vertical tab bar displays tabs in a column. */
  display: inline-flex;
  flex-direction: column;
  height: 100%;
  border-right: 0.5px solid var(--color-stroke-hairline);
  /* TODO: Fix implementation of tab bar overflow. */
  /* overflow-y: auto; */
}
.tab-bar.vertical .tab {
  /* Force tabs to have some minimum size. */
  min-height: 12ch;

  /* Add a division between tabs. */
  border-top: 0.5px solid var(--color-stroke-hairline);

  /* Tabs should have an indicator border at the top to display a status. */
  border-right: 2px solid var(--status-color);

  /* Vertical tab text should be vertical. */
  text-orientation: mixed;
  writing-mode: vertical-lr;
  transform: rotate(180deg);
}
